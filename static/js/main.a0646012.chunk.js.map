{"version":3,"sources":["assets/fondoLogin.png","firebase/firebaseConfig.js","firebase/firebaseAuth.js","loginIn.js","assets/logotype.png","box.png","Helmet.png","mapas.js","PrivateRoute.js","App.js","index.js"],"names":["fb","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","onAuthStateChanged","Provider","value","theme","createTheme","withRouter","history","handleSubmit","useCallback","event","a","preventDefault","data","FormData","currentTarget","formData","email","get","password","signInWithEmailAndPassword","push","alert","useContext","to","className","ThemeProvider","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Typography","variant","onSubmit","noValidate","mt","TextField","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","type","Button","mb","src","fondoLogin","alt","width","Mapas","mapContainer","useRef","map","lng","setLng","lat","setLat","zoom","setZoom","pointsRed","setPointsRed","pointsYellow","setPointsYellow","pointsGreen","setPointsGreen","mapboxgl","accessToken","current","Map","container","style","center","on","getCenter","toFixed","getZoom","popup","Popup","offset","setText","el","document","createElement","Marker","setLngLat","setPopup","addTo","coorden","collection","onSnapshot","snapshot","console","log","docChanges","forEach","change","doc","poligono","coordenada","cord","latitude","longitude","getSource","setData","addSource","mensajeros","operacion2","servicios","intPorcentaje","Math","round","addLayer","getLayer","e","lngLat","coordinates","description","Helmet","abs","setHTML","indexRed","indexOf","indexYellow","indexGreen","splice","setPaintProperty","length","useHistory","logotype","height","Alert","severity","AlertTitle","onChange","number","message","element","color","onClick","signOut","then","ref","PrivateRoute","RouteComponent","rest","render","routeProps","App","exact","path","SignIn","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.a0646012.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/fondoLogin.87ef336c.png\";","import firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCE_ppoYK55IzQzZh94vAOisbL4NUUXC_o\",\r\n  authDomain: \"talentfest-mensajeros-urbanos.firebaseapp.com\",\r\n  projectId: \"talentfest-mensajeros-urbanos\",\r\n  storageBucket: \"talentfest-mensajeros-urbanos.appspot.com\",\r\n  messagingSenderId: \"1051607467040\",\r\n  appId: \"1:1051607467040:web:7d3365e8226d141b722845\"\r\n};\r\n// Initialize Firebase\r\nconst fb =firebase.initializeApp(firebaseConfig);\r\nexport const auth = fb.auth();\r\nexport const db = fb.firestore();\r\n","import React, { useState, useEffect } from 'react';\r\nimport { auth } from './firebaseConfig';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider =({ children }) =>{\r\n    const [ currentUser, setCurrentUser ] = useState(null)\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged(setCurrentUser);\r\n    }, []);\r\n\r\n    return(\r\n        <AuthContext.Provider\r\n            value={{\r\n                currentUser\r\n        }} >\r\n            { children }\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\n","import * as React from 'react';\r\nimport { useCallback, useContext } from 'react';\r\nimport { withRouter, Redirect } from 'react-router';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport fondoLogin from './assets/fondoLogin.png'\r\nimport './formulario.css';\r\nimport { auth } from './firebase/firebaseConfig';\r\nimport { AuthContext } from './firebase/firebaseAuth';\r\n\r\nconst theme = createTheme();\r\n\r\nfunction SignIn({ history }) {\r\n  const handleSubmit = useCallback(async event => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    const formData =({\r\n      email: data.get('email'),\r\n      password: data.get('password'),\r\n      });\r\n    try {\r\n      await auth.signInWithEmailAndPassword(formData.email, formData.password);\r\n      history.push('/Monitoreo');\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }, [history]);\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  if(currentUser){\r\n    return <Redirect to='/Monitoreo' />;\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className='formulario'>\r\n        <ThemeProvider theme={theme}>\r\n          <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <Box\r\n              sx={{\r\n                marginTop: 8,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Iniciar Sesiòn\r\n              </Typography>\r\n              <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 8 }}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  sx={{ mt: 5, mb: 2 }}\r\n                >\r\n                Iniciar Sesion\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </div>\r\n      <div className='logo'>\r\n        <img src={fondoLogin} alt=\"fondo\" width='800px' />\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default withRouter(SignIn);","export default __webpack_public_path__ + \"static/media/logotype.8cbafefd.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADNSURBVHgB7ZWxDcIwEEX/HRESovEKjMIEUNIhJmAEyAbZID0NI4RsECbBDUJKRA7bJBSAHERc5jVnWecnfduyCQ2TQ74lyN4MFd4w85u7qQxK8YmWWuLbap7A9VjDMVNmUfJN9gOKmHYqzdRLWFVYoh+qmj4dTiigBXpSE61tJRu3rOjia+7YwxY9vsqMA8RtcbE5RNwWGzsyR54T4exrLAmFrSwS+43QkYxQCPyMmutUE04drYhYKENAGIEZhIPwT6FGODTb5zuQ1H0FD1u1RYY+93hZAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGdSURBVHgB7VRdTsJAEJ7ZVoHoQ48AJxBPQHsDm2iMT8ANvIHlJMqTRh/AExRvwA3sEWoiBAR2nCFAWvpD4UFf+JLtdmdn9tv52QE44r+BeZvlN99WiE3SYLNiVWQEEPA0VAr7o+tGFw4hsB59a3qOPSSwIR8BKvTyiBIE5We/igb66xsXAqI3vml00rZUQqDA2+twAZFXefHv07ZiHixjTujDYQj1gi4nd04QFcY8UBpacDgsAyHhhRlbIV5kGIczIMdYQAh7wtxa1zP0LJOwWSpT52fGIUTs67nuSjHEtAiG/HWjIgUFgez+ZAJ10tSVpLKoqoDepSA2A+GKq9DOJFg9okwoA3tE0GeCDpr4cHICHotjYRN5JgESfUA+LCbxtYan0je5oeuEpyOqcfVsBs2pHTWI5UAMlQHNHSRVJvmcnkFQeR3AFFLbQS3VA67hASEMoADWcZe4RudtskSSSya5u3IRQcBJd+SH57ZcjnMU5BJIXGnBRkQ7OyWswrU8SPqXNEeir1wCgTz38a3T0iuiPTySAwvrHvE3+AVb4KTnrIROPwAAAABJRU5ErkJggg==\"","import './App.css';\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\nimport { db } from './firebase/firebaseConfig';\r\nimport logotype from './assets/logotype.png'\r\nimport Button from '@mui/material/Button';\r\nimport AlertTitle from '@mui/material/AlertTitle'\r\nimport Alert from '@mui/material/Alert'\r\nimport Swal from 'sweetalert2';\r\nimport Box from './box.png'\r\nimport Helmet from './Helmet.png'\r\nimport { auth } from './firebase/firebaseConfig';\r\nimport { useHistory } from 'react-router-dom'\r\nimport ReactWhatsapp from 'react-whatsapp';\r\n\r\n\r\n\r\nfunction Mapas() {\r\n  const mapContainer = useRef(null);\r\n  const map = useRef(null);\r\n  const [lng, setLng] = useState(-74.082);\r\n  const [lat, setLat] = useState(4.610);\r\n  const [zoom, setZoom] = useState(11);\r\n  const [pointsRed, setPointsRed] = useState([]);\r\n  const [pointsYellow, setPointsYellow] = useState([]);\r\n  const [pointsGreen, setPointsGreen] = useState([]);\r\n\r\n  /* const callback = (snapshot) => {\r\n    snapshot.docChanges().forEach((change) => {\r\n      if (change.type === \"added\") {\r\n        console.log(\"Add mapa\", change.doc.data());\r\n        //agregar nueva zona en el mapa\r\n\r\n      }\r\n      if (change.type === \"modified\") {\r\n        // console.log(\"Modified city: \", change.doc.data());\r\n        //actualizar zona, sobre demanda oferta o ubicación\r\n      }\r\n      if (change.type === \"removed\") {\r\n        // console.log(\"Removed city: \", change.doc.data());\r\n        //Quitar zona del mapa\r\n      }\r\n    });\r\n  } */\r\n\r\n  mapboxgl.accessToken = 'pk.eyJ1IjoibG9yZW5hcnVpeiIsImEiOiJja3RrOHg5cWYwNHZtMnVwZXB2NHgwdTU3In0.XbSDbq4TPHFlPH4mvDiA9A';\r\n\r\n\r\n  useEffect(() => {\r\n    if (map.current) return; // initialize map only once\r\n    map.current = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: zoom\r\n    });\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!map.current) return; // wait for map to initialize\r\n    map.current.on('move', () => {\r\n      setLng(map.current.getCenter().lng.toFixed(4));\r\n      setLat(map.current.getCenter().lat.toFixed(4));\r\n      setZoom(map.current.getZoom().toFixed(2));\r\n    });\r\n  })\r\n\r\n  useEffect(() => {\r\n    map.current.on('load', () => {\r\n\r\n\r\n      // create the popup\r\n      const popup = new mapboxgl.Popup({ offset: 25 }).setText(\r\n        'Construction on the Washington Monument began in 1848.'\r\n      );\r\n\r\n      // create DOM element for the marker\r\n      const el = document.createElement('div');\r\n      el.id = '';\r\n\r\n      // create the marker\r\n      new mapboxgl.Marker(el)\r\n        .setLngLat([-74.04045210439463, 4.770416860152286])\r\n        .setPopup(popup) // sets a popup on this marker\r\n        .addTo(map.current);\r\n\r\n      const coorden = db.collection(\"Zonas\").onSnapshot((snapshot) => {\r\n        console.log(snapshot)\r\n        snapshot.docChanges().forEach((change) => {\r\n          console.log(change)\r\n          const doc = change.doc\r\n\r\n\r\n          if (change.type === \"added\") {\r\n            /* console.log(\"Doc´foreach \",doc.id); */\r\n            let data = [];\r\n\r\n            doc.data().poligono.forEach((coordenada) => {\r\n              let cord = [];\r\n              let latitude = coordenada.latitude;\r\n              let longitude = coordenada.longitude;\r\n              cord.push(latitude);\r\n              cord.push(longitude);\r\n              data.push(cord)\r\n\r\n            })\r\n            //console.log(JSON.stringify(data))\r\n            /* console.log('maine' + doc.id); */\r\n            if (map.current.getSource('maine' + doc.id)) {\r\n              // map.current.removeLayer('maine' + doc.id)\r\n              map.current.getSource('maine' + doc.id).setData(\r\n                {\r\n                  'type': 'geojson',\r\n                  'data': {\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                      'type': 'Polygon',\r\n                      'coordinates': [\r\n                        data\r\n                      ]\r\n                    }\r\n                  }\r\n                });\r\n            }\r\n            else {\r\n\r\n              map.current.addSource('maine' + doc.id, {\r\n                'type': 'geojson',\r\n                'data': {\r\n                  'type': 'Feature',\r\n                  'geometry': {\r\n                    'type': 'Polygon',\r\n                    'coordinates': [\r\n                      data\r\n                    ]\r\n                  }\r\n                }\r\n              });\r\n            }\r\n\r\n\r\n            let mensajeros = doc.data().mensajeros;\r\n            let servicios = doc.data().servicios;\r\n            /* let operacion = (1-(servicios/mensajeros));\r\n            let operacion2 = -(100*operacion); */\r\n            let operacion2 = ((servicios / mensajeros) * 100);\r\n            let intPorcentaje = Math.round(operacion2)\r\n            console.log(doc.id + 'mensajeros' + doc.data().mensajeros)\r\n            console.log(doc.id + 'servicios' + doc.data().servicios)\r\n            console.log(doc.id, operacion2)\r\n            if (operacion2 >= 50) {\r\n              pointsRed.push('outline3' + doc.id);\r\n              map.current.addLayer({\r\n\r\n                'id': 'outline3' + doc.id,\r\n                'type': 'fill',\r\n                'source': 'maine' + doc.id, // reference the data source\r\n                'layout': {},\r\n                'paint': {\r\n                  'fill-color': \"#ff2121\", // blue color fill\r\n                  'fill-opacity': 0.5\r\n                }\r\n              });\r\n\r\n\r\n            } else if (operacion2 >= 25 & operacion2 < 50) {\r\n              pointsYellow.push('outline3' + doc.id);\r\n              map.current.addLayer({\r\n                'id': 'outline3' + doc.id,\r\n                'type': 'fill',\r\n                'source': 'maine' + doc.id, // reference the data source\r\n                'layout': {},\r\n                'paint': {\r\n                  'fill-color': '#ffee21', // blue color fill\r\n                  'fill-opacity': 0.5\r\n                }\r\n              });\r\n\r\n            } else {\r\n              pointsGreen.push('outline3' + doc.id);\r\n              map.current.addLayer({\r\n                'id': 'outline3' + doc.id,\r\n                'type': 'fill',\r\n                'source': 'maine' + doc.id, // reference the data source\r\n                'layout': {},\r\n                'paint': {\r\n                  'fill-color': '#14f803', // blue color fill\r\n                  'fill-opacity': 0.5\r\n                }\r\n              });\r\n\r\n\r\n\r\n            }\r\n            if (map.current.getLayer('maine' + doc.id)) {\r\n              map.current.getLayer('maine' + doc.id).setData(\r\n                {\r\n                  'id': 'outline4' + doc.id,\r\n                  'type': 'line',\r\n                  'source': 'maine' + doc.id,\r\n                  'layout': {},\r\n                  'paint': {\r\n                    'line-color': '#689309',\r\n                    'line-width': 1\r\n                  }\r\n\r\n                });\r\n            }\r\n\r\n\r\n            map.current.on('click', 'outline3' + doc.id, (e) => {\r\n              console.log(e.lngLat.lat)\r\n              console.log(e.lngLat.lng)\r\n              // Copy coordinates array.\r\n              const coordinates = [e.lngLat.lng, e.lngLat.lat];\r\n              // const coordinates2 = [-74.3761,4.7550];\r\n              const description = doc.id + `<br>` + `<br>` + `<img src='${Box}'> \\n` + 'Mensajeros: ' + doc.data().mensajeros + `<br>` + `<br>` + `<img src='${Helmet}'> \\n` + 'Servicios: ' + doc.data().servicios + `<br>` + `<br>` + 'Ocupación al' + `\\n` + intPorcentaje + '%';\r\n\r\n              // Ensure that if the map is zoomed out such that multiple\r\n              // copies of the feature are visible, the popup appears\r\n              // over the copy being pointed to.\r\n              while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\r\n              }\r\n\r\n              new mapboxgl.Popup()\r\n                .setLngLat(coordinates)\r\n                .setHTML(description)\r\n                .addTo(map.current);\r\n            });\r\n\r\n          } else if (change.type === \"modified\") {\r\n            console.log('modified')\r\n            let data = [];\r\n            doc.data().poligono.forEach((coordenada) => {\r\n              let cord = [];\r\n              let latitude = coordenada.latitude;\r\n              let longitude = coordenada.longitude;\r\n              cord.push(latitude);\r\n              cord.push(longitude);\r\n              data.push(cord)\r\n\r\n            });\r\n            if (map.current.getSource('maine' + doc.id)) {\r\n              // map.current.removeLayer('maine' + doc.id)\r\n              map.current.getSource('maine' + doc.id).setData(\r\n                {\r\n                  'type': 'FeatureCollection',\r\n                  \"features\": [{\r\n                    \"type\": \"Feature\",\r\n                    \"geometry\": {\r\n                      \"type\": \"Polygon\",\r\n                      \"coordinates\": [data]\r\n                    }\r\n                  }]\r\n                });\r\n            }\r\n            let mensajeros = doc.data().mensajeros;\r\n            let servicios = doc.data().servicios;\r\n            /* let operacion = (1-(servicios/mensajeros));\r\n            let operacion2 = -(100*operacion); */\r\n            let operacion2 = ((servicios / mensajeros) * 100);\r\n            let intPorcentaje = Math.round(operacion2)\r\n            console.log(doc.id + 'mensajeros' + doc.data().mensajeros)\r\n            console.log(doc.id + 'servicios' + doc.data().servicios)\r\n            console.log(doc.id, operacion2)\r\n            let indexRed = pointsRed.indexOf('outline3' + doc.id)\r\n            let indexYellow = pointsYellow.indexOf('outline3' + doc.id)\r\n            let indexGreen = pointsGreen.indexOf('outline3' + doc.id)\r\n            if (indexRed > (-1)) {\r\n              pointsRed.splice(indexRed, 1)\r\n            } else if (indexYellow > (-1)) {\r\n              pointsYellow.splice(indexYellow, 1)\r\n            } else {\r\n              pointsGreen.splice(indexGreen, 1)\r\n            }\r\n            if (operacion2 >= 50) {\r\n              pointsRed.push('outline3' + doc.id);\r\n              map.current.setPaintProperty('outline3' + doc.id, 'fill-color', \"#ff2121\");\r\n              map.current.setPaintProperty('outline3' + doc.id, 'fill-opacity', 0.5);\r\n\r\n\r\n            } else if (operacion2 >= 25 & operacion2 < 50) {\r\n              pointsYellow.push('outline3' + doc.id);\r\n              map.current.setPaintProperty('outline3' + doc.id, 'fill-color', '#ffee21');\r\n              map.current.setPaintProperty('outline3' + doc.id, 'fill-opacity', 0.5);\r\n\r\n\r\n            } else {\r\n              pointsGreen.push('outline3' + doc.id);\r\n              map.current.setPaintProperty('outline3' + doc.id, 'fill-color', '#14f803');\r\n              map.current.setPaintProperty('outline3' + doc.id, 'fill-opacity', 0.5);\r\n\r\n\r\n            }\r\n            map.current.on('click', 'outline3' + doc.id, (e) => {\r\n              console.log(e.lngLat.lat)\r\n              console.log(e.lngLat.lng)\r\n              // Copy coordinates array.\r\n              const coordinates = [e.lngLat.lng, e.lngLat.lat];\r\n              // const coordinates2 = [-74.3761,4.7550];\r\n              const description = doc.id + `<br>` + `<br>` + `<img src='${Box}'> \\n` + 'Mensajeros: ' + doc.data().mensajeros + `<br>` + `<br>` + `<img src='${Helmet}'> \\n` + 'Servicios: ' + doc.data().servicios + `<br>` + `<br>` + 'Ocupación al' + `\\n` + intPorcentaje + '%';\r\n\r\n              // Ensure that if the map is zoomed out such that multiple\r\n              // copies of the feature are visible, the popup appears\r\n              // over the copy being pointed to.\r\n              while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\r\n              }\r\n\r\n              new mapboxgl.Popup()\r\n                .setLngLat(coordinates)\r\n                .setHTML(description)\r\n                .addTo(map.current);\r\n            });\r\n          }\r\n          console.log('Point: ' + pointsRed.length, pointsYellow.length, pointsGreen.length)\r\n        });\r\n        return () => coorden()\r\n      })\r\n\r\n    })\r\n  }\r\n    , [])\r\n\r\n\r\n  const logout = () => {\r\n    auth.signOut()\r\n      .then(() => {\r\n        history.push('/')\r\n      })\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div>\r\n      <div className='logoMapa'>\r\n        <img src={logotype} alt=\"logotype\" width='auto' height='80px' />\r\n        <div className='alert'>\r\n          <span>\r\n            <h2>BOG-COL</h2>\r\n            <h3>Ciudad</h3>\r\n          </span>\r\n          <span>\r\n            <Alert severity=\"error\" >\r\n              <AlertTitle></AlertTitle>\r\n              <strong><h3 onChange={() => setPointsRed(pointsRed)}> {pointsRed.length}</h3></strong>\r\n            </Alert>\r\n          </span>\r\n          <span>\r\n            <Alert severity=\"warning\">\r\n              <AlertTitle></AlertTitle>\r\n              <strong> <h3 onChange={() => setPointsYellow(pointsYellow)}> {pointsYellow.length}</h3></strong>\r\n            </Alert>\r\n          </span>\r\n          <span>\r\n            <Alert severity=\"success\">\r\n              <strong><h3 onChange={() => setPointsGreen(pointsGreen)}> {pointsGreen.length}</h3></strong>\r\n            </Alert>\r\n          </span>\r\n          <span className='boton'>\r\n            <ReactWhatsapp number=\"+573016225545\" message=\" Hola *Mensajero Urbano* en la zona 6 te necesita.\r\nRecuerda que tienes un incentivo del *10%* para realizar servicios en esta zona.\r\n\r\n Gracias por ayudarnos a cubrir esta zona.\r\n\r\nIngresa aquí y ve a la zona https://bit.ly/2XAsGYi\r\n\" element={Button} variant=\"outlined\" color=\"error\" sx={{ mt: 2, mb: 2 }}>Enviar Alerta</ReactWhatsapp>\r\n            <span>\r\n              <Button variant=\"contained\" sx={{ mt: 2, mb: 2 }} onClick={logout}>Cerrar Sesiòn</Button>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div ref={mapContainer} className=\"map-container\">\r\n        <h4 className=\"sidebar\">\r\n          Longitud: {lng} | Latitud: {lat} | Zoom: {zoom}\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Mapas;","import React,  { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { AuthContext } from './firebase/firebaseAuth';\r\n\r\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n        render={ routeProps => \r\n          !!currentUser ?(\r\n            <RouteComponent {...routeProps}/> \r\n              ) : (\r\n                <Redirect to='/'/>\r\n                        )\r\n            }\r\n    />\r\n    );\r\n};\r\nexport default PrivateRoute\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, }\r\n    from 'react-router-dom';\r\nimport SignIn from './loginIn'\r\nimport Mapas from './mapas'\r\nimport { AuthProvider } from './firebase/firebaseAuth';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n   <AuthProvider>\r\n      <Router>\r\n        <Route exact  path='/' component={SignIn} />\r\n        <PrivateRoute path='/Monitoreo' component={Mapas} />\r\n      </Router>\r\n     </AuthProvider> \r\n  );\r\n};\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM  from 'react-dom';\r\nimport App from './App';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\n\r\nReactDOM.render(<App/>,  document.getElementById('root'))\r\n\r\n"],"sourceRoot":""}